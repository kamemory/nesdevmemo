テストちう

[翻訳](trans/index.md)

## スプライト0爆弾

0番なスプライトを描画中、PPUステータスレジスタ($2002)のbit6が1になる。
これを検出してスクロールをずらしたりするのがラスタスクロール。
0番のスプライトが起爆になるので0爆弾っていうらしい。

BG、スプライトともに透明だとダメっぽい。
不透明なピクセルが重なってないと0爆弾が起動しないぽい。

## MMC3

### HBlank割り込み

$c000、$c001にHBlankを起こすスキャンラインを書き込む。
$e000、$e001に`1`を書き込んでIRQを有効化する。

```
	; VBlank時の割り込み処理
NMI:
	lda #$c0	; 192ライン
	sta $c000
	sta $c001

	lda #1
	sta $e000
	sta $e001
	
	rti

	; スキャンライン192のHBlank近辺で飛んでくる
IRQ:
	nop
	rti
```

### バンク切り替え

$8000にコマンドを書き込んで、$8001に切り替えるバンクを書き込む。

## CA65

https://cc65.github.io/

CC65に含まれるアセンブラ。

### もろもろ

ラベルのアドレスの下位バイト、上位バイトをloadしたい

```
; ラベルLabelのアドレス下位バイトをAレジスタにロード
lda #<Label
; ラベルLabelのアドレス上位バイトをAレジスタにロード
lda #>Label

```
